<?php
/*
	DealMe Save class for Mongo Save Method
	Example:
		m_Find::result(m_var::get_database(),m_var::get_userAccount()); finds everything in UserAccount
*/

class m_Find extends m_Connection{
	private static $results;

	/*
		protect this static class from instantiation
	*/
	private function __clone(){}
	private function __wakeup(){}
	protected function __construct(){}
	
	/*
		Methods
	*/
	public static function result($database,$collection,$query=false){
		//clears array
		self::$results = array();
		if($query == false){
			$hold = parent::connection()->$database->$collection->find();
		}else{
			$hold = parent::connection()->$database->$collection->find($query);
		}
		foreach($hold as $doc){
			array_push(self::$results,$doc);
		}
	}
	
	public static function get_results(){
		//returns an array that needs to be foreach'd
		return self::$results;
	}
}
?>